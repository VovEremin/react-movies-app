(this["webpackJsonpreact-movies-app"]=this["webpackJsonpreact-movies-app"]||[]).push([[0],{12:function(e,t,n){e.exports={input:"Input_input__3rPb3",list:"Input_list__3uV5q",text:"Input_text__3F8Z4"}},21:function(e,t,n){e.exports={wrapper:"Form_wrapper__3iDbh",filters:"Form_filters__1hV_i"}},37:function(e,t,n){},5:function(e,t,n){e.exports={item:"InputItem_item__1uU9C",topSide:"InputItem_topSide__1-lZ3",title:"InputItem_title__2pDAP",genre:"InputItem_genre__2rNwU",rating:"InputItem_rating__pZM8P"}},6:function(e,t,n){e.exports={menu:"RatingMenu_menu__3PoI1",checkbox:"RatingMenu_checkbox__24zZ7",any:"RatingMenu_any__1SiV3",star:"RatingMenu_star__pH-RL"}},62:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(14),r=n.n(i),s=(n(37),n(16)),l=n(7),o=n.n(l),u=n.p+"static/media/chevron-down.bb5b6ea0.svg",A=n(8),d=n.n(A),j=n(4),p="SET_FILMS",m="SET_IS_LOADED",b="SET_INPUT_VALUE",h="SET_GENRE",g="SET_RATING",f=n(0),O=["Action","Comedy","Drama","Thriller"],x=c.a.memo((function(e){var t=e.genre,n=Object(j.b)(),a=function(e){n(function(e){return{type:h,payload:e}}(e))};return Object(f.jsxs)("div",{className:d.a.menu,children:[Object(f.jsxs)("div",{className:d.a.checkbox,children:[Object(f.jsx)("input",{name:"any",type:"checkbox",id:"any",onChange:function(){return a("any")},checked:t.includes("any")}),Object(f.jsx)("label",{htmlFor:"any",className:d.a.any,children:"Any genre"})]}),O.map((function(e,n){return Object(f.jsxs)("div",{className:d.a.checkbox,children:[Object(f.jsx)("input",{name:e,type:"checkbox",id:e,checked:t.includes(e),onChange:function(){return a(e)}}),Object(f.jsx)("label",{htmlFor:e,className:d.a.genre,children:e})]},n)}))]})})),_=function(e){var t=e.genre,n=Object(a.useState)(!1),c=Object(s.a)(n,2),i=c[0],r=c[1],l=Object(a.useRef)(null),A=function(e){(e.path||e.composedPath&&e.composedPath()).includes(l.current)||r(!1)};return Object(a.useEffect)((function(){return window.addEventListener("click",A),function(){window.removeEventListener("click",A)}}),[]),Object(f.jsxs)("div",{className:o.a.genre,ref:l,children:[Object(f.jsxs)("div",{className:o.a.topSide,onClick:function(){r(!i)},children:[Object(f.jsx)("span",{className:o.a.title,children:"Genre"}),Object(f.jsx)("span",{className:o.a.arrow,children:Object(f.jsx)("img",{src:u,alt:"arrow"})})]}),i&&Object(f.jsx)("div",{className:o.a.bottomSide,children:Object(f.jsx)(x,{genre:t})})]})},v=n(2),y=n(12),N=n.n(y),E=n(5),S=n.n(E),w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAXgAAAF4B+NkP+QAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFCSURBVDiNldKxSpxBFMXx3823YfEFFAVNEU0gWG6tWPkAeQc724BpwhYhlaS1tLEKtoudhc8gCLpKmg2IVcRCEpgU3pUv7OySDEwx9/7P4R7mRilF7UTES/Tz+amU8qvGdarqp/MZ2y3uQ5UqpUxcLOIem3nvsVhlpxjs47T1PsV+je1k3i5eYxVr2MH71qBfcBwRI1ziCsNSyiPs4QG/McQJ+pWp+tkbJvuQWnf4iLnaiFMizqXmDg5wgaX/MFhKzQE0OMpsy/8gXk72CM242OAQ11iYIV5I5hDNX9+YJj+xNcNgK5lmYg/wCgXzMwzmk1kZ1160/vodRqWU23EhIjYiYqO1tbcYJQsTBucp7EXEAAMMImIQEb3kzqcZjLAeEd9whu9462k7b3CWvXX8eFa18nWxi694U8m/lr1ddMf1Pz91WKppe+4KAAAAAElFTkSuQmCC",I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEfSURBVHgBpVMxboNAENwDAaJAIRIISn4QnoB/kJTpkjJd8gLXqZIfJPlBfmCegDuX7gGZggYJgWexQMgG6YxHgl0tO8PucAiage/7Qdu2G86bpnlK0zSZ6lPmBED+QQj4UhTla65vUsBxnAghGpUiTBRJC6iquqbLidZTvYJvruuGCCFGfUCjLYR4oWn84/kWMYEvRZZlsfA8j/d7p2X4ZoGWbgB7ENNCYJ1fYQO6rm+wd3glP6mqatWZuECkIxeA6CssYhjGQYYN8j2TOR/OgaZpAUnCNM27Ph8EMH5AkqjrenUhAEibOH7ZeAJ73IRPxDt+oP6KuD8TGHrVPrEsa4fwCCLhSH/CqOc8z+OyLBP484erotPfWUDgDfXOxCMsi2PnXNvAFAAAAABJRU5ErkJggg==",k=function(e){var t=e.title,n=e.rating,a=e.category,c=[];return c=Number.isInteger(+n)?c.concat(Array(+n).fill("+"),Array(10-+n).fill("-")):c.concat(Array(Math.trunc(+n)).fill("+"),Array(1).fill("="),Array(9-Math.trunc(+n)).fill("-")),Object(f.jsxs)("div",{className:S.a.item,children:[Object(f.jsxs)("div",{className:S.a.topSide,children:[Object(f.jsx)("p",{className:S.a.title,children:t}),Object(f.jsx)("span",{className:S.a.genre,children:a})]}),Object(f.jsx)("div",{className:S.a.rating,children:c.map((function(e,t){var n;return n="+"===e?I:"-"===e?w:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFsSURBVHgBlVM9i8JAEH0XtLHyB9gI2lnY2/gH7AURaysFe79AGxWtrdTGn6G9hTZWFipJEdIkEAiBfOztLpdwuSTm8iBkdvbN25mdWZAEtNvtJAoR8AG73Q6iKGK/33+iIVbEsixMJhPU63WcTifYtp1eZD6f4/V6cXs0GmE2myGVCAterVb+ulgswnVdaJoWKZIxDAOPxwOXywX3+x3n85mL6LoeIHa7XYzHY+RyOQiCgGq1ilKpxP/o9/uEcmI/GhjZkev1StbrNRkMBkSgBjqdDtIin8/z8pbLJT2Kgt48qdVq/87k+XySZrNJHMfha3gbqqoSWl+iiCRJpNFocH5o2Fh6x+MxsQw2eJvNhvM9BFpsmmaiSKFQCPkCIu/3G0moVCq43W7xIt6Eeshms1AUBYvFwt9jmTDfb2SiRFi9vV6PzRC3mX+73UKWZQyHw1DGX7xFP2i1WiiXy37wXzCxw+HAH+N0OvX938WdRpiUGL7LAAAAAElFTkSuQmCC",Object(f.jsx)("div",{className:S.a.star,children:Object(f.jsx)("img",{src:n,alt:e})},t)}))})]})},C=function(e){var t,n=e.placeholder,c=e.inputValue,i=e.dispatch,r=e.films,s=e.isLoaded,l=e.rating,o=[];return r.forEach((function(e){0!==l.length&&(l.includes(Math.floor(e.rating))||l.includes(Math.floor(e.rating)))&&o.push(e)})),t=l.includes("any")?r:o.length>0&&l.length>0&&s?o:0===l.length&&s?r:[],Object(f.jsxs)("div",{className:N.a.input,children:[Object(f.jsx)("input",{placeholder:n,value:c,onChange:function(e){var t;i((t=e.target.value,{type:b,payload:t}))}}),Object(f.jsx)("div",{className:N.a.list,children:s&&0===t.length?Object(f.jsx)("p",{className:N.a.text,children:"No results..."}):s?t.map((function(e,t){return Object(a.createElement)(k,Object(v.a)(Object(v.a)({},e),{},{key:"".concat(t,"_").concat(e.title)}))})):Object(f.jsx)("p",{className:N.a.text,children:"Loading..."})})]})},R=n(9),M=n.n(R),B=n(6),U=n.n(B),G=[1,2,3,4,5,6,7,8,9,10],L=c.a.memo((function(e){var t=e.emptyStarIcon,n=e.fullStarIcon,a=e.rating,c=Object(j.b)(),i=function(e){c(function(e){return{type:g,payload:e}}(e))};return Object(f.jsxs)("div",{className:U.a.menu,children:[Object(f.jsxs)("div",{className:U.a.checkbox,children:[Object(f.jsx)("input",{name:"any",type:"checkbox",id:"any",checked:a.includes("any"),onChange:function(){return i("any")}}),Object(f.jsx)("label",{htmlFor:"any",className:U.a.any,children:"Any rating"})]}),G.map((function(e,c){return Object(f.jsxs)("div",{className:U.a.checkbox,children:[Object(f.jsx)("input",{name:c,type:"checkbox",id:c,checked:a.includes(e),onChange:function(){return i(e)}}),Object(f.jsxs)("label",{htmlFor:c,children:[Array(c+1).fill(null).map((function(e,t){return Object(f.jsx)("div",{className:U.a.star,children:Object(f.jsx)("img",{src:n,alt:"+"})},t)})),Array(10-c-1).fill(null).map((function(e,n){return Object(f.jsx)("div",{className:U.a.star,children:Object(f.jsx)("img",{src:t,alt:"-"})},n)}))]})]},c)}))]})})),Q=function(e){var t=e.rating,n=Object(a.useState)(!1),c=Object(s.a)(n,2),i=c[0],r=c[1],l=Object(a.useRef)(null),o=function(e){(e.path||e.composedPath&&e.composedPath()).includes(l.current)||r(!1)};return Object(a.useEffect)((function(){return window.addEventListener("click",o),function(){window.removeEventListener("click",o)}}),[]),Object(f.jsxs)("div",{className:M.a.rating,ref:l,children:[Object(f.jsxs)("div",{className:M.a.topSide,onClick:function(){r(!i)},children:[Object(f.jsx)("span",{className:M.a.title,children:"Rating"}),Object(f.jsx)("span",{className:M.a.arrow,children:Object(f.jsx)("img",{src:u,alt:"arrow"})})]}),i&&Object(f.jsx)("div",{className:M.a.bottomSide,children:Object(f.jsx)(L,{emptyStarIcon:w,fullStarIcon:I,rating:t})})]})},V=n(21),F=n.n(V),P=function(e){return e.films},X=function(e){return e.info},Y=n(30),T=n.n(Y),J=function(e,t){return T.a.get("/films?title_like=".concat(e).concat(t?"&"+t:"")).then((function(e){return e.data}))},W=function(e){return{type:m,payload:e}},Z=function(e,t,n){return function(a){a(W(!1)),J(e,t,n).then((function(e){a({type:p,payload:e}),a(W(!0))}))}},q=void 0,D=function(){var e=Object(j.c)(P),t=e.films,n=e.isLoaded,c=Object(j.c)(X),i=c.inputValue,r=c.genre,s=c.rating,l=Object(j.b)(),o=r.includes("any")||0===r.length?null:"category="+r.join("&category="),u=Object(a.useCallback)(function(e,t,n){var a;return function(){for(var c=arguments.length,i=new Array(c),r=0;r<c;r++)i[r]=arguments[r];var s=q,l=function(){a=null,n||e.apply(s,i)},o=n&&!a;clearTimeout(a),a=setTimeout(l,t),o&&e.apply(s,i)}}((function(e,t){l(Z(e,t))}),500),[]);return Object(a.useEffect)((function(){i.trim()&&u(i,o)}),[i,o,l]),Object(f.jsx)("div",{className:F.a.wrapper,children:Object(f.jsxs)("form",{children:[Object(f.jsx)(C,{placeholder:"Enter movie name",dispatch:l,inputValue:i,films:t,isLoaded:n,rating:s}),Object(f.jsxs)("div",{className:F.a.filters,children:[Object(f.jsx)(Q,{rating:s}),Object(f.jsx)(_,{genre:r})]})]})})};var H=function(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsx)(D,{})})},K=n(11),z=n(31),$=n(32),ee={films:[],isLoaded:!0},te=n(13),ne={inputValue:"",genre:[],rating:[]},ae=Object(K.combineReducers)({films:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(v.a)(Object(v.a)({},e),{},{films:t.payload});case m:return Object(v.a)(Object(v.a)({},e),{},{isLoaded:t.payload});default:return e}},info:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(v.a)(Object(v.a)({},e),{},{inputValue:t.payload});case h:var n=Object(te.a)(e.genre);return n.includes(t.payload)?n=n.filter((function(e){return e!==t.payload})):n.push(t.payload),Object(v.a)(Object(v.a)({},e),{},{genre:Object(te.a)(n)});case g:var a=Object(te.a)(e.rating);return a.includes(t.payload)?a=a.filter((function(e){return e!==t.payload})):a.push(t.payload),Object(v.a)(Object(v.a)({},e),{},{rating:Object(te.a)(a)});default:return e}}}),ce=Object(K.createStore)(ae,Object(z.composeWithDevTools)(Object(K.applyMiddleware)($.a)));r.a.render(Object(f.jsx)(j.a,{store:ce,children:Object(f.jsx)(H,{})}),document.getElementById("root"))},7:function(e,t,n){e.exports={genre:"Genre_genre__7Fpb7",topSide:"Genre_topSide__3QoGe",title:"Genre_title__3xs2j",arrow:"Genre_arrow__3aFqd",bottomSide:"Genre_bottomSide__1HANQ"}},8:function(e,t,n){e.exports={menu:"GenreMenu_menu__2IMSR",checkbox:"GenreMenu_checkbox__SHswj",any:"GenreMenu_any__2O2LV",genre:"GenreMenu_genre__20jcO"}},9:function(e,t,n){e.exports={rating:"Rating_rating__VdE1n",topSide:"Rating_topSide__1gNg8",title:"Rating_title__1efOq",arrow:"Rating_arrow__1zrqD",bottomSide:"Rating_bottomSide__1J23s"}}},[[62,1,2]]]);
//# sourceMappingURL=main.e3f0b84e.chunk.js.map